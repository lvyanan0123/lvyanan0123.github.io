## Redis 实现分布式锁会存在哪些问题？

**-** 如果客户端在执行完setnx后崩溃了，那么就没有机会执行expire，会导致它一直持有这个锁

**-** 需要一个随机字符串不然会出现如此问题：
1. 客户端1获取锁成功。
2. 客户端1在某个操作上阻塞了很长时间。
3. 过期时间到了，锁自动释放了。
4. 客户端2获取到了对应同一个资源的锁。
5. 客户端1从阻塞中恢复过来，释放掉了客户端2持有的锁。